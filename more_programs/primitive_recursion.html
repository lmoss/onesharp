
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Primitive recursion &#8212; Invitation to Computability</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/exercise.css?v=20b57f81" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css?v=ca93fcec" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"tex": {"macros": {"quadiff": ["\\quad\\mbox{iff}\\quad"], "quadeq": ["\\quad =\\quad"], "dar": ["\\downarrow"], "uar": ["\\uparrow"], "eps": ["\\varepsilon"], "id": ["id"], "o": ["\\circ"], "N": "\\mathbb{N}", "set": ["\\left\\{#1\\right\\}", 1], "one": ["\\mathtt{1}"], "hash": ["\\mathtt{\\#}"], "diag": ["\\mathtt{diag}"], "self": ["\\mathtt{self}"], "copyprog": ["\\mathtt{copy}"], "clearprog": ["\\mathtt{clear}"], "writeprog": ["\\mathtt{write}"], "writetotwo": ["\\mathtt{write}_2"], "semantics": ["[\\![#1]\\!]", 1], "semanticsalt": ["\\langle\\!\\langle #1\\rangle\\!\\rangle", 1], "moveprog": ["\\mathtt{move}"], "moveprogtwoone": ["\\mathtt{move}_{2,1}"], "phifn": ["\\varphi"], "Tile": ["\\mathit{Tile}"], "TT": ["\\mathcal{T}"], "DD": ["\\mathcal{D}"], "Rone": ["R1"], "Rtwo": ["R2"], "words": ["\\mbox{words}"]}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'more_programs/primitive_recursion';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The s-m-n Theorem" href="smn.html" />
    <link rel="prev" title="Programs for arithmetic" href="arithmetic.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/beaver.jpg" class="logo__image only-light" alt="Invitation to Computability - Home"/>
    <img src="../_static/beaver.jpg" class="logo__image only-dark pst-js-only" alt="Invitation to Computability - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Invitation to Computability
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Issues</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../issues/issues.html">Computability: several notions</a></li>


<li class="toctree-l1"><a class="reference internal" href="../issues/problems.html">Algorithmic problems</a></li>






<li class="toctree-l1"><a class="reference internal" href="../issues/coding.html">Computatble functions on encoded structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../issues/reduction.html">Reduction of one problem to another</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Text Register Machine Programs</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../introOneSharp/instructions.html">First steps</a></li>

<li class="toctree-l1"><a class="reference internal" href="../introOneSharp/move_copy_write.html">Basic programs</a></li>

<li class="toctree-l1"><a class="reference internal" href="../introOneSharp/haltDef.html">Halting</a></li>

<li class="toctree-l1"><a class="reference internal" href="../introOneSharp/functions.html">Functions defined by programs</a></li>






<li class="toctree-l1"><a class="reference internal" href="../introOneSharp/tidy.html">Tidy programs</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">More Programs</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="sanity.html">A tool to help write programs</a></li>

<li class="toctree-l1"><a class="reference internal" href="arithmetic.html">Programs for arithmetic</a></li>




<li class="toctree-l1 current active"><a class="current reference internal" href="#">Primitive recursion</a></li>


<li class="toctree-l1"><a class="reference internal" href="smn.html">The s-m-n Theorem</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Universal Programs</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../universal/twoByTwo.html">Two-by-Two encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../universal/universal.html">Universal programs</a></li>




</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">The Recursion Theorem</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../self_writing.html">Self-replicating programs</a></li>




</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Undecidability</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../undecidability/haltingProblem.html">The halting problem</a></li>


<li class="toctree-l1"><a class="reference internal" href="../undecidability/busyBeaver.html">The busy beaver problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../undecidability/tiling.html">Tiling</a></li>




<li class="toctree-l1"><a class="reference internal" href="../undecidability/post.html">Post’s Correspondence Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../undecidability/church.html">Logic</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/lmoss/onesharp" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/lmoss/onesharp/issues/new?title=Issue%20on%20page%20%2Fmore_programs/primitive_recursion.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/more_programs/primitive_recursion.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Primitive recursion</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Primitive recursion</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#primitive-recursive-terms-and-the-functions-which-they-denote">Primitive recursive terms, and the functions which they denote</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#examples-of-primitive-recursive-terms-and-functions">Examples of primitive recursive terms and functions</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-functions-in-this-notebook">Basic functions in this notebook</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#syntax-check">Syntax check</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-run-insepct-the-terms-and-run-the-1-programs">How to run insepct the terms and run the 1# programs.</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#i-am-going-to-change-exercise-5-c-a-little">I am going to change exercise 5(c) a little.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#testing-the-prime-primitive-recursive-term">Testing the ‘prime’ primitive recursive term</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <p><a href="https://colab.research.google.com/github/lmoss/onesharp/blob/main/more_programs/primitive_recursion.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
<section class="tex2jax_ignore mathjax_ignore" id="primitive-recursion">
<h1>Primitive recursion<a class="headerlink" href="#primitive-recursion" title="Link to this heading">#</a></h1>
<p>At this point, we have primarily discussed <code class="docutils literal notranslate"><span class="pre">1#</span></code> computability for functions of words.  Secondarily, we turned to computability of functions of numbers.  We say “secondarily” here, becasuse the definition was indirect: to define computability of functions on numbers, we went through the somewhat artificial device of <code class="docutils literal notranslate"><span class="pre">1#</span></code>.   Since functions of numbers are so much more important than functions of words (at least to mathematics), we want to shift the focus in the subject.   We start with a re-consideration of what it means to “compute in a simple sort of way” on thge natural numbers.   Fairly soon, however, we return to <code class="docutils literal notranslate"><span class="pre">1#</span></code> to connect it to what we do here.</p>
<p>What I have here works: entering a primitive recursive term in the correct syntax, we can translate that term to a <code class="docutils literal notranslate"><span class="pre">1#</span></code> program. The work here is sub-optimal in the sense that the 1# program associated to a term uses way more registers than what seems to be necessary.  For example the program to determine whether or not an input number is prime uses 57 registers.   On top of that, the programs that come from this implementation are very slow.  My guess is that one or two applications of <em>memoization</em> should produce better <code class="docutils literal notranslate"><span class="pre">1#</span></code> code.  But I don’t really know this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="err">!</span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="n">setuptools</span>
<span class="err">!</span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">lmoss</span><span class="o">/</span><span class="n">onesharp</span><span class="o">.</span><span class="n">git</span><span class="nd">@main</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">onesharp.interpreter.interpreter</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<img src="https://github.com/lmoss/onesharp/blob/main/issues/pictures/exp_syntax_tree.png?raw=1" width="100%" height="100%"></section>
<section class="tex2jax_ignore mathjax_ignore" id="primitive-recursive-terms-and-the-functions-which-they-denote">
<h1>Primitive recursive terms, and the functions which they denote<a class="headerlink" href="#primitive-recursive-terms-and-the-functions-which-they-denote" title="Link to this heading">#</a></h1>
<div class="admonition-definition admonition">
<p class="admonition-title">Definition</p>
<p><em>Primitive recursive functions</em> are functions <span class="math notranslate nohighlight">\(N^k\to N\)</span>, where <span class="math notranslate nohighlight">\(N\)</span> is the set of natural numbers.   So there are primitive functions of arity <span class="math notranslate nohighlight">\(1\)</span>, <span class="math notranslate nohighlight">\(2\)</span>, etc.  There are also primitive recursive functions of arity <span class="math notranslate nohighlight">\(0\)</span> (for a technical reason.)</p>
<p><em>Primitive recursive terms</em> are terms that denote primitive recursive functions.</p>
<p>We start with <em>basic primitive recursive function terms</em>, as shown below:</p>
<p><code class="docutils literal notranslate"><span class="pre">z</span></code> : this denotes the one-place function with value 0.</p>
<p><code class="docutils literal notranslate"><span class="pre">z_empty</span></code>: this denotes the zero-place function with value 0.</p>
<p><code class="docutils literal notranslate"><span class="pre">s</span></code> : this denotes the one-place successor function: <span class="math notranslate nohighlight">\(f(n) = n+1\)</span>.</p>
<p><code class="docutils literal notranslate"><span class="pre">[proj,</span> <span class="pre">i,</span> <span class="pre">j]</span></code> with i &lt;= j: this is the ith projection on j variables.
For example,</p>
</div>
<p><a class="reference internal" href="#3,6,5,7,9,13"><span class="xref myst">proj, 4, 6</span></a> = 7.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p>Every primitive recursive term has an <em>arity</em>, and if <span class="math notranslate nohighlight">\(t\)</span> is of arity <span class="math notranslate nohighlight">\(k\)</span>, then <span class="math notranslate nohighlight">\(t\)</span> denotes a function <span class="math notranslate nohighlight">\(N^k\to N\)</span>.  Technically, we should distinguish between the terms and the functions which they denote (just as we were careful to do with programs), but we usually will not do this.</p>
<div class="admonition-definition admonition">
<p class="admonition-title">Definition</p>
<p>The two term constructors are</p>
<p><code class="docutils literal notranslate"><span class="pre">[comp,</span> <span class="pre">f,</span> <span class="pre">g_1,</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">,</span> <span class="pre">g_k]</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">[pr,</span> <span class="pre">f,</span> <span class="pre">g]</span></code></p>
<p>In these, <code class="docutils literal notranslate"><span class="pre">comp</span></code> stands for composition, and <code class="docutils literal notranslate"><span class="pre">pr</span></code> stands for primitive recursion.</p>
<p>In the composition term <code class="docutils literal notranslate"><span class="pre">[comp,</span> <span class="pre">f,</span> <span class="pre">g_1,</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">,</span> <span class="pre">g_k]</span></code>, all the terms <code class="docutils literal notranslate"><span class="pre">g_i</span></code> must have the same arity, say <span class="math notranslate nohighlight">\(n\)</span>.  The term <code class="docutils literal notranslate"><span class="pre">f</span></code> must have arity <span class="math notranslate nohighlight">\(k\)</span> (the number of <span class="math notranslate nohighlight">\(g\)</span>s).  The term <code class="docutils literal notranslate"><span class="pre">[comp,</span> <span class="pre">f,</span> <span class="pre">g_1,</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">,</span> <span class="pre">g_k]</span></code> has arity <span class="math notranslate nohighlight">\(n\)</span>.  The function which this term denotes is defined as follows.
For numbers <span class="math notranslate nohighlight">\(\overline{x} = x_1\)</span>, <span class="math notranslate nohighlight">\(\ldots\)</span>, <span class="math notranslate nohighlight">\(x_n\)</span>,</p>
<div class="math notranslate nohighlight">
\[
[comp, f, g_1, . . . , g_k](\overline{x}) =
f(g_1(\overline{x}), \ldots, g_k(\overline{x})).
\]</div>
<p>For the primitive recursive terms
<code class="docutils literal notranslate"><span class="pre">[pr,</span> <span class="pre">f,</span> <span class="pre">g]</span></code>, we require that there is a number <span class="math notranslate nohighlight">\(n\)</span> such that
the arity of <span class="math notranslate nohighlight">\(f\)</span> is <span class="math notranslate nohighlight">\(n-1\)</span> and the arity of <span class="math notranslate nohighlight">\(g\)</span> is <span class="math notranslate nohighlight">\(n+1\)</span>.  Then the
arity of the term
<code class="docutils literal notranslate"><span class="pre">[pr,</span> <span class="pre">f,</span> <span class="pre">g]</span></code> is <span class="math notranslate nohighlight">\(n\)</span>.  Its denotation is the function with the following properties:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
[pr, f, g](\overline{x},0) = f(\overline{x})\\
[pr, f, g](\overline{x},m+1) = g(\overline{x},m,[pr, f, g](\overline{x},m))\\
\end{split}\]</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="examples-of-primitive-recursive-terms-and-functions">
<h1>Examples of primitive recursive terms and functions<a class="headerlink" href="#examples-of-primitive-recursive-terms-and-functions" title="Link to this heading">#</a></h1>
<p>You can assign names to them, as shown below. The main functions in the notebook are</p>
<p>You might look over the following example of terms before reading what to do with them.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">add</span> <span class="o">=</span> <span class="p">[</span><span class="n">pr</span><span class="p">,[</span><span class="n">proj</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]]]</span>
<span class="c1">#onesharp(program(add), [&#39;11&#39;,&#39;#1#1&#39;])</span>

<span class="n">mul</span> <span class="o">=</span> <span class="p">[</span><span class="n">pr</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">add</span><span class="p">,[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span> <span class="p">]</span>
<span class="n">q</span> <span class="o">=</span> <span class="n">program</span><span class="p">(</span><span class="n">mul</span><span class="p">)</span>
<span class="c1">#onesharp(q, [&#39;11&#39;,&#39;1#1&#39;])</span>

<span class="n">exp</span> <span class="o">=</span> <span class="p">[</span><span class="n">pr</span><span class="p">,</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">z</span><span class="p">],</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">mul</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span> <span class="p">]</span>
<span class="n">pred</span> <span class="o">=</span> <span class="p">[</span><span class="n">pr</span><span class="p">,</span> <span class="n">z_empty</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span>
<span class="n">monus</span> <span class="o">=</span> <span class="p">[</span><span class="n">pr</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">pred</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]]]</span>

<span class="n">two_place_fn_value_one</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">s</span><span class="p">,[</span><span class="n">comp</span><span class="p">,</span><span class="n">z</span><span class="p">,[</span><span class="n">proj</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]]</span>  
<span class="n">zero_place_fn_value_one</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">z_empty</span><span class="p">]</span>  

<span class="n">sgn</span> <span class="o">=</span><span class="p">[</span><span class="n">pr</span><span class="p">,</span> <span class="n">z_empty</span><span class="p">,</span><span class="n">two_place_fn_value_one</span><span class="p">]</span>
<span class="n">sgn_bar</span> <span class="o">=</span><span class="p">[</span><span class="n">pr</span><span class="p">,</span> <span class="n">zero_place_fn_value_one</span><span class="p">,</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span><span class="n">z</span><span class="p">,[</span><span class="n">proj</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]]</span>

<span class="n">chi_greater</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span><span class="n">sgn</span><span class="p">,</span> <span class="n">monus</span><span class="p">]</span> <span class="c1">## characteristic function of &gt;</span>
<span class="n">chi_lesser_or_equal</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span><span class="n">sgn_bar</span><span class="p">,</span> <span class="n">monus</span><span class="p">]</span> <span class="c1">#|characteristic function of (&gt; or =)</span>
<span class="n">chi_lesser</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span><span class="n">chi_greater</span><span class="p">,[</span><span class="n">proj</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="n">proj</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span> <span class="c1">## characteristic function of &lt;</span>
<span class="n">chi_greater_or_equal</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">chi_lesser_or_equal</span><span class="p">,[</span><span class="n">proj</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="n">proj</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span> <span class="c1">## characteristic function of &gt;=</span>

<span class="c1">## solution to exercise 5a below</span>
<span class="n">chi_equals</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">mul</span><span class="p">,</span> <span class="n">chi_lesser_or_equal</span><span class="p">,</span> <span class="n">chi_greater_or_equal</span> <span class="p">]</span>

<span class="c1">#print(arity(pred))</span>
<span class="c1">#predProg = print(program(pred))</span>
<span class="c1">#onesharp(program(exp),[&#39;1#1&#39;,&#39;11&#39;])</span>
<span class="c1">#onesharp(program([comp, pred, [proj,2,2]]), [&#39;11&#39;,&#39;#1#1&#39;])</span>
<span class="c1">#print(successor)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">onesharp</span><span class="p">(</span><span class="n">program</span><span class="p">(</span><span class="n">exp</span><span class="p">),[</span><span class="s1">&#39;111&#39;</span><span class="p">,</span><span class="s1">&#39;111&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<section id="basic-functions-in-this-notebook">
<h2>Basic functions in this notebook<a class="headerlink" href="#basic-functions-in-this-notebook" title="Link to this heading">#</a></h2>
<p>As you can see, you enter terms as ordinary Python strings.
In particular, you can assign terms to variables, just as we have been doing with programs.</p>
<p>Here are some other functions in this notebook:</p>
<p><code class="docutils literal notranslate"><span class="pre">arity(t)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">program(t)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">in_place_program(t)</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The in_place_programs in this notebook do not halt in the sense   Instead, they <em>preserve their inputs</em>.</p>
</div>
<p>For example, run the program associated with <em>add</em> below as shown below it.  (That is, take away the # from the beginning of the lines after the definition. The 2 inputs are preserved and the result goes in register 3.)</p>
</section>
<section id="syntax-check">
<h2>Syntax check<a class="headerlink" href="#syntax-check" title="Link to this heading">#</a></h2>
<p>If you want to see a primitive recursive term written out “all the way”, you can just enter it.</p>
<p>You can enter a line like the ones below to check that an expression really is a term, or to find an error.</p>
<p>The output can be long because the function <code class="docutils literal notranslate"><span class="pre">syntax_check</span></code> is recursive, and thus reports information about all the subterms of whatever you enter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#print(exp)</span>

<span class="c1">#syntax_check(mul)</span>
<span class="c1">#syntax_check([comp, mul, mul])</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="how-to-run-insepct-the-terms-and-run-the-1-programs">
<h2>How to run insepct the terms and run the 1# programs.<a class="headerlink" href="#how-to-run-insepct-the-terms-and-run-the-1-programs" title="Link to this heading">#</a></h2>
<p>The Python function <code class="docutils literal notranslate"><span class="pre">program(t)</span></code> compiles a primitive recursive term to a 1# program.  You can look at these by entering, e.g., <code class="docutils literal notranslate"><span class="pre">program(add)</span></code>.   Then you can run these programs just as we have been doing all along.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">onesharp</span><span class="p">(</span><span class="n">program</span><span class="p">(</span><span class="n">chi_equals</span><span class="p">),[</span><span class="s1">&#39;1#1&#39;</span><span class="p">,</span><span class="s1">&#39;##1&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://github.com/lmoss/onesharp/blob/main/images/drum.png?raw=1" /></p>
<img src="https://github.com/lmoss/onesharp/blob/main/drum.jpg?raw=1" width="200" height="160"><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">### exercise 5b below</span>
<span class="n">g</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">chi_equals</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">mul</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="n">proj</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]]]</span> 
<span class="c1"># g tells if first x third = second</span>
<span class="c1">#print(arity(g))</span>
<span class="c1">#print(onesharp(program(g),[&#39;11&#39;,&#39;1##1&#39;,&#39;11&#39;]))</span>

<span class="c1">## for future use</span>
<span class="n">greater_than_one</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">chi_greater</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">z</span><span class="p">]]</span>
<span class="c1"># gives output 1 if the input is &gt;1 and gives output 0 if the input is 0 or 1</span>

<span class="n">first_and_third_greater_than_one</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">mul</span><span class="p">,</span>
                                      <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">greater_than_one</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]],</span>
                                      <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">greater_than_one</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
                                     <span class="p">]</span>

<span class="n">first_third_second_proper</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">mul</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">first_and_third_greater_than_one</span><span class="p">]</span>
<span class="c1"># g tells if first x third = second, and both the first and third are &gt;1</span>

<span class="c1">#onesharp(program(first_third_second_proper),[&#39;11&#39;,&#39;#11&#39;,&#39;#1&#39;])</span>

<span class="c1">#onesharp(program(first_third_second_proper),[&#39;#&#39;,&#39;#&#39;,&#39;#1&#39;])</span>
</pre></div>
</div>
</div>
</div>
<section id="i-am-going-to-change-exercise-5-c-a-little">
<h3>I am going to change exercise 5(c) a little.<a class="headerlink" href="#i-am-going-to-change-exercise-5-c-a-little" title="Link to this heading">#</a></h3>
<p>I will get h_proper so that h_proper(m,p,n) = 1 if m &gt; 1 and for some q &lt;= n,
q &gt; 1 and m q = p.   That is, I have changed h a litte so that it incorporates information about the “&gt;1” conditions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## exercise 5c below</span>


<span class="n">g3</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">program</span><span class="p">(</span><span class="n">g3</span><span class="p">)</span>
<span class="n">onesharp</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;11&#39;</span><span class="p">,</span><span class="s1">&#39;11111&#39;</span><span class="p">])</span>
<span class="n">k1</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">add</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> 
      <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">first_third_second_proper</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span><span class="n">s</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]]]</span>
<span class="n">k</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">sgn</span><span class="p">,</span> <span class="n">k1</span><span class="p">]</span> 

<span class="n">h_proper</span> <span class="o">=</span> <span class="p">[</span><span class="n">pr</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="n">k1</span><span class="p">]</span>

<span class="c1">#onesharp(program(h_proper),[&#39;11&#39;,&#39;11&#39;,&#39;11&#39;])</span>
<span class="c1">#onesharp(program(h_proper),[&#39;1#1&#39;,&#39;1111&#39;,&#39;11&#39;])</span>
<span class="c1">## this asks if there is a number &lt;= 3 such that </span>
<span class="c1">## (a) the number is &gt; 1</span>
<span class="c1">## and (b) if you multiply 5 by the number, you get 15.</span>
<span class="c1">## Since there is such a number (namely 2), we output 1.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># exercise 5d and 5e</span>

<span class="n">proper_divisor</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">h_proper</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">pred</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]]]</span>

<span class="c1">#print(arity(proper_divisor))</span>
<span class="c1">#print(onesharp(program(proper_divisor),[&#39;11&#39;,&#39;11&#39;]))</span>
<span class="c1">#print(onesharp(program(proper_divisor),[&#39;11&#39;,&#39;#11&#39;]))</span>
<span class="c1">#print(onesharp(program(proper_divisor),[&#39;11&#39;,&#39;1##1&#39;]))</span>

<span class="c1">#print(onesharp(program(proper_divisor),[&#39;1&#39;,&#39;111&#39;]))</span>
<span class="c1">#print(onesharp(program(proper_divisor),[&#39;#1&#39;,&#39;111&#39;]))</span>
<span class="c1">#print(onesharp(program(proper_divisor),[&#39;11&#39;,&#39;111&#39;]))</span>

<span class="c1">#print(onesharp(program(proper_divisor),[&#39;##1&#39;,&#39;111&#39;]))</span>
<span class="c1">#print(onesharp(program(proper_divisor),[&#39;1#1&#39;,&#39;111&#39;]))</span>
<span class="c1">#print(onesharp(program(proper_divisor),[&#39;#11&#39;,&#39;111&#39;]))</span>
<span class="c1">#print(onesharp(program(proper_divisor),[&#39;111&#39;,&#39;111&#39;]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="n">pd_inverse_zero</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">proper_divisor</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="n">proj</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span>
<span class="n">pd_inverse</span> <span class="o">=</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">mul</span><span class="p">,</span> <span class="n">pd_inverse_zero</span><span class="p">,</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">greater_than_one</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]]]</span>

<span class="n">running_total_of_pd_inverse</span> <span class="o">=</span> <span class="p">[</span><span class="n">pr</span><span class="p">,</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> 
                                <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">add</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> 
                                <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">pd_inverse</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]]]</span>
<span class="c1">#print(arity([comp, add, [proj, 2,2], pd_inverse]))                                  </span>
<span class="c1">#print(arity(running_total_of_pd_inverse))</span>


</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">onesharp</span><span class="p">(</span><span class="n">program</span><span class="p">(</span><span class="n">running_total_of_pd_inverse</span><span class="p">),[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">onesharp</span><span class="p">(</span><span class="n">program</span><span class="p">(</span><span class="n">running_total_of_pd_inverse</span><span class="p">),[</span><span class="s1">&#39;#1&#39;</span><span class="p">,</span><span class="s1">&#39;#1&#39;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">onesharp</span><span class="p">(</span><span class="n">program</span><span class="p">(</span><span class="n">running_total_of_pd_inverse</span><span class="p">),[</span><span class="s1">&#39;11&#39;</span><span class="p">,</span><span class="s1">&#39;11&#39;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">onesharp</span><span class="p">(</span><span class="n">program</span><span class="p">(</span><span class="n">running_total_of_pd_inverse</span><span class="p">),[</span><span class="s1">&#39;##1&#39;</span><span class="p">,</span><span class="s1">&#39;##1&#39;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">onesharp</span><span class="p">(</span><span class="n">program</span><span class="p">(</span><span class="n">running_total_of_pd_inverse</span><span class="p">),[</span><span class="s1">&#39;1#1&#39;</span><span class="p">,</span><span class="s1">&#39;1#1&#39;</span><span class="p">]))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">onesharp</span><span class="p">(</span><span class="n">program</span><span class="p">(</span><span class="n">running_total_of_pd_inverse</span><span class="p">),[</span><span class="s1">&#39;#11&#39;</span><span class="p">,</span><span class="s1">&#39;#11&#39;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">onesharp</span><span class="p">(</span><span class="n">program</span><span class="p">(</span><span class="n">running_total_of_pd_inverse</span><span class="p">),[</span><span class="s1">&#39;111&#39;</span><span class="p">,</span><span class="s1">&#39;111&#39;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">onesharp</span><span class="p">(</span><span class="n">program</span><span class="p">(</span><span class="n">running_total_of_pd_inverse</span><span class="p">),[</span><span class="s1">&#39;###1&#39;</span><span class="p">,</span><span class="s1">&#39;###1&#39;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">onesharp</span><span class="p">(</span><span class="n">program</span><span class="p">(</span><span class="n">running_total_of_pd_inverse</span><span class="p">),[</span><span class="s1">&#39;1##1&#39;</span><span class="p">,</span><span class="s1">&#39;1##1&#39;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">onesharp</span><span class="p">(</span><span class="n">program</span><span class="p">(</span><span class="n">running_total_of_pd_inverse</span><span class="p">),[</span><span class="s1">&#39;#1#1&#39;</span><span class="p">,</span><span class="s1">&#39;#1#1&#39;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">onesharp</span><span class="p">(</span><span class="n">program</span><span class="p">(</span><span class="n">running_total_of_pd_inverse</span><span class="p">),[</span><span class="s1">&#39;11#1&#39;</span><span class="p">,</span><span class="s1">&#39;11#1&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># End of the work on prime(n)</span>

<span class="n">prime</span> <span class="o">=</span><span class="p">[</span><span class="n">comp</span><span class="p">,</span><span class="n">sgn_bar</span><span class="p">,</span> <span class="p">[</span><span class="n">comp</span><span class="p">,</span> <span class="n">running_total_of_pd_inverse</span><span class="p">,</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">proj</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]]]</span>
<span class="n">prime_prog</span> <span class="o">=</span> <span class="n">program</span><span class="p">(</span><span class="n">prime</span><span class="p">)</span>

<span class="c1"># Gives output 1 if the input is a prime,</span>
<span class="c1"># and gives output # if the output is not a prime.</span>

</pre></div>
</div>
</div>
</div>
<img src="https://github.com/lmoss/onesharp/blob/main/drum.jpg?raw=1" width="200" height="160"></section>
</section>
<section id="testing-the-prime-primitive-recursive-term">
<h2>Testing the ‘prime’ primitive recursive term<a class="headerlink" href="#testing-the-prime-primitive-recursive-term" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;#1&#39;</span><span class="p">,</span> <span class="s1">&#39;11&#39;</span><span class="p">,</span> <span class="s1">&#39;##1&#39;</span><span class="p">,</span> 
             <span class="s1">&#39;1#1&#39;</span><span class="p">,</span> <span class="s1">&#39;#11&#39;</span><span class="p">,</span> <span class="s1">&#39;111&#39;</span><span class="p">,</span> <span class="s1">&#39;###1&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;1##1&#39;</span><span class="p">,</span> <span class="s1">&#39;#1#1&#39;</span><span class="p">,</span> <span class="s1">&#39;11#1&#39;</span><span class="p">,</span> <span class="s1">&#39;##11&#39;</span><span class="p">,</span> 
             <span class="s1">&#39;1#11&#39;</span><span class="p">,</span> <span class="s1">&#39;#111&#39;</span><span class="p">,</span> <span class="s1">&#39;1111&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">):</span>
  <span class="n">x</span> <span class="o">=</span> <span class="nb">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
  <span class="n">b</span> <span class="o">=</span> <span class="n">onesharp</span><span class="p">(</span><span class="n">prime_prog</span><span class="p">,[</span><span class="nb">list</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
  <span class="k">if</span> <span class="n">b</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="s1">&#39; is prime&#39;</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="s1">&#39; is not prime&#39;</span><span class="p">)</span>  
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./more_programs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="arithmetic.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Programs for arithmetic</p>
      </div>
    </a>
    <a class="right-next"
       href="smn.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">The s-m-n Theorem</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Primitive recursion</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#primitive-recursive-terms-and-the-functions-which-they-denote">Primitive recursive terms, and the functions which they denote</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#examples-of-primitive-recursive-terms-and-functions">Examples of primitive recursive terms and functions</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-functions-in-this-notebook">Basic functions in this notebook</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#syntax-check">Syntax check</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-run-insepct-the-terms-and-run-the-1-programs">How to run insepct the terms and run the 1# programs.</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#i-am-going-to-change-exercise-5-c-a-little">I am going to change exercise 5(c) a little.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#testing-the-prime-primitive-recursive-term">Testing the ‘prime’ primitive recursive term</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Lawrence S. Moss
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>