
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>The T predicate &#8212; Invitation to Computability</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/exercise.css?v=20b57f81" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css?v=ca93fcec" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"tex": {"macros": {"quadiff": ["\\quad\\mbox{iff}\\quad"], "quadeq": ["\\quad =\\quad"], "dar": ["\\downarrow"], "uar": ["\\uparrow"], "eps": ["\\varepsilon"], "id": ["id"], "o": ["\\circ"], "N": "\\mathbb{N}", "set": ["\\left\\{#1\\right\\}", 1], "one": ["\\mathtt{1}"], "hash": ["\\mathtt{\\#}"], "diag": ["\\mathtt{diag}"], "self": ["\\mathtt{self}"], "copyprog": ["\\mathtt{copy}"], "clearprog": ["\\mathtt{clear}"], "writeprog": ["\\mathtt{write}"], "writetotwo": ["\\mathtt{write}_2"], "semantics": ["[\\![#1]\\!]", 1], "semanticsalt": ["\\langle\\!\\langle #1\\rangle\\!\\rangle", 1], "moveprog": ["\\mathtt{move}"], "moveprogtwoone": ["\\mathtt{move}_{2,1}"], "phifn": ["\\varphi"], "Tile": ["\\mathit{Tile}"], "TT": ["\\mathcal{T}"], "DD": ["\\mathcal{D}"], "Rone": ["R1"], "Rtwo": ["R2"], "words": ["\\mbox{words}"]}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'mu/T_predicate';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Mu-recursive functions" href="mu.html" />
    <link rel="prev" title="Primitive recursion" href="primitive_recursion.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/ourboros1.jpg" class="logo__image only-light" alt="Invitation to Computability - Home"/>
    <script>document.write(`<img src="../_static/ourboros1.jpg" class="logo__image only-dark" alt="Invitation to Computability - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Invitation to Computability
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Themes</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../issues/issues.html">Computability: choices</a></li>

<li class="toctree-l1"><a class="reference internal" href="../issues/problems.html">Algorithmic problems</a></li>







<li class="toctree-l1"><a class="reference internal" href="../issues/coding.html">Computable functions on encoded structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../issues/reduction.html">Reduction of one problem to another</a></li>

<li class="toctree-l1"><a class="reference internal" href="../issues/recursion.html">Recursion</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Text Register Machine Programs</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../introOneSharp/instructions.html">Instructions of 1#</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introOneSharp/interpreters.html">Interpreters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introOneSharp/move_copy_write.html">Basic programs</a></li>

<li class="toctree-l1"><a class="reference internal" href="../introOneSharp/haltDef.html">Halting</a></li>


<li class="toctree-l1"><a class="reference internal" href="../introOneSharp/functions.html">Functions defined by programs</a></li>






<li class="toctree-l1"><a class="reference internal" href="../introOneSharp/tidy.html">Tidy programs</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">More Programs</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../more_programs/sanity.html">A tool to help write programs</a></li>



<li class="toctree-l1"><a class="reference internal" href="../more_programs/arithmetic.html">Programs for arithmetic</a></li>




<li class="toctree-l1"><a class="reference internal" href="../more_programs/smn.html">The s-m-n Theorem</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Universal Programs</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../universal/twoByTwo.html">Two-by-Two encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../universal/universal.html">Universal programs</a></li>

<li class="toctree-l1"><a class="reference internal" href="../universal/universalMore.html">Further results on universal programs</a></li>



</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Computable Functions of Numbers</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="primitive_recursion.html">Primitive recursion</a></li>





<li class="toctree-l1 current active"><a class="current reference internal" href="#">The T predicate</a></li>
<li class="toctree-l1"><a class="reference internal" href="mu.html">Mu-recursive functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="ackermann.html">Ackermann’s function</a></li>
<li class="toctree-l1"><a class="reference internal" href="turing.html">Turing computability</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">The Recursion Theorem</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../recThm/self_writing.html">Self-writing programs</a></li>



<li class="toctree-l1"><a class="reference internal" href="../recThm/recursion_theorem.html">The Recursion Theorem</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Computably Enumerable Sets And Beyond</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../cesets/computablyEnumerable.html">Contents of this chapter</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Undecidability</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../undecidability/haltingProblem.html">The halting problem</a></li>



<li class="toctree-l1"><a class="reference internal" href="../undecidability/busyBeaver.html">The busy beaver problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../undecidability/tiling.html">Tiling</a></li>




<li class="toctree-l1"><a class="reference internal" href="../undecidability/church.html">Satisfiability and validity in first-order logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../undecidability/post.html">Post’s Correspondence Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../undecidability/matrixMortality.html">Matrix mortality</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/lmoss/onesharp" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/lmoss/onesharp/issues/new?title=Issue%20on%20page%20%2Fmu/T_predicate.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/mu/T_predicate.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>The T predicate</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#encoding">Encoding</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sequences-of-words-as-words">Sequences of words as words</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sequences-of-sequences-of-words-as-words">Sequences of (sequences of words) as words</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#snapshots">Snapshots</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-interface">New interface</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#definitions-leading-up-to-t">Definitions leading up to T</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#shortlex-ordering-of-words">Shortlex ordering of words</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-bits">Accessing bits</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-point-of-all-of-this-coding">The point of all of this coding</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <p><a href="https://colab.research.google.com/github/lmoss/onesharp/blob/main/mu/T_predicate.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#@title</span>
<span class="err">!</span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="n">setuptools</span>
<span class="err">!</span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">lmoss</span><span class="o">/</span><span class="n">onesharp</span><span class="o">.</span><span class="n">git</span><span class="nd">@main</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">onesharp.interpreter.with_traces</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="the-t-predicate">
<h1>The T predicate<a class="headerlink" href="#the-t-predicate" title="Link to this heading">#</a></h1>
<p>If someone claims that <span class="math notranslate nohighlight">\([\![p]\!](x)\!\!\downarrow\)</span>, what evidence could they bring to prove their point?   In this section we develop an answer.  We provide a notion of a <em>trace</em> of a computation.  Here are the main points.   First, traces are finite words; they cannot be infinite objects.  Second, there is a total computable relation <span class="math notranslate nohighlight">\(T(p,x,z)\)</span> such that if <span class="math notranslate nohighlight">\([\![p]\!](x)\!\!\downarrow\)</span>,
then there is some <span class="math notranslate nohighlight">\(z\)</span> such that <span class="math notranslate nohighlight">\(T(p,x,z)\)</span>.  But if <span class="math notranslate nohighlight">\([\![p]\!](x)\!\!\uparrow\)</span>, then there is no such <span class="math notranslate nohighlight">\(z\)</span>.  This relation <span class="math notranslate nohighlight">\(T(p,x,z)\)</span> is called the <em>T-predicate</em>.</p>
<p>Carrying out the definition of <span class="math notranslate nohighlight">\(T(p,x,z)\)</span> requires us to make a number of secondary definitions.  Some of the discussion is technical because we need to code sequences of words by single words.   Please do not get bogged down by the technical details; the ideas are more important, and they are actually easier to grasp without the details of the coding.  In other words, the details are important, but they should not get in the way of understanding the ideas.</p>
<p>The foregoing paragraphs were about computation in <code class="docutils literal notranslate"><span class="pre">1#</span></code>.   After we do this work, we want to port the discussion from words to numbers.  This again leads us to a mountain of details about coding.  We show that the numerical version of <span class="math notranslate nohighlight">\(T\)</span> is primitive recursive.   This leads to the a real result proved using the <span class="math notranslate nohighlight">\(T\)</span>-predicate, the fact that every partial <span class="math notranslate nohighlight">\(\mu\)</span>-recursive function of
numbers is <code class="docutils literal notranslate"><span class="pre">1#</span></code>-computable.</p>
<section id="encoding">
<h2>Encoding<a class="headerlink" href="#encoding" title="Link to this heading">#</a></h2>
<p>We need several levels of encoding, taking ever more complicated types of objects into <code class="docutils literal notranslate"><span class="pre">1#</span></code>-words.</p>
<section id="sequences-of-words-as-words">
<h3>Sequences of words as words<a class="headerlink" href="#sequences-of-words-as-words" title="Link to this heading">#</a></h3>
<div class="proof definition admonition" id="def-encode-sequences">
<p class="admonition-title"><span class="caption-number">Definition 12 </span></p>
<section class="definition-content" id="proof-content">
<p>We start by defining a specific encoding map</p>
<div class="math notranslate nohighlight">
\[
c: Words^* \to Words
\]</div>
<p>Here is how our map words first, we define a map</p>
<div class="math notranslate nohighlight">
\[
b : Words \to Words
\]</div>
<p>by</p>
<div class="math notranslate nohighlight">
\[
b(a_1 a_2 \cdots a_k)  =  {\tt 1}\quad a_1\quad  {\tt 1} \quad a_2 \quad \cdots \quad  {\tt 1}\quad a_k 
\]</div>
<p>In other words, we put a <span class="math notranslate nohighlight">\({\tt 1}\)</span> before each letter in the input word <span class="math notranslate nohighlight">\(a_1 a_2 \cdots a_k\)</span>.</p>
<p>Then for a sequence of words we take</p>
<div class="math notranslate nohighlight">
\[
c(w_1, \ldots, w_r) = {\tt \#\#} \quad b(w_1)\quad {\tt \#\#} \quad b(w_2)\quad  \cdots {\tt \#\#} \quad b(w_r)
\]</div>
<p>We understand that <span class="math notranslate nohighlight">\(c(\varepsilon) = {\tt \#\#}\)</span>.</p>
</section>
</div></section>
<section id="sequences-of-sequences-of-words-as-words">
<h3>Sequences of (sequences of words) as words<a class="headerlink" href="#sequences-of-sequences-of-words-as-words" title="Link to this heading">#</a></h3>
<p>We also need an encoding of <em>sequences of sequences of words</em>.   (But fear not, we do not need to further in this direction.)
We define</p>
<div class="math notranslate nohighlight">
\[
d: (Words^*)^* \to Words
\]</div>
<p>by</p>
<div class="math notranslate nohighlight">
\[
d(r_1,\ldots, r_n )  = {\tt \# 1} \quad c(r_1)\quad  {\tt \# 1} \quad  c(r_2)\quad  \cdots\quad  {\tt \# 1} \quad  c(r_n)
\]</div>
<p>That is, we encode sequences of words using <span class="math notranslate nohighlight">\(c\)</span> from above, and then we use <span class="math notranslate nohighlight">\({\tt \# 1}\)</span> as a separator between such encondings.</p>
</section>
<section id="snapshots">
<h3>Snapshots<a class="headerlink" href="#snapshots" title="Link to this heading">#</a></h3>
<p>Recall that a snapshot is a number together with a finite sequence of words.    We associate snapshots to executions of a program on some inputs; a snapshot is determined by a line number in a program, and with the contents of some finite set of registers.
But we want a definition of a snapshot encoding that does not refer to a program or to anything else.</p>
<div class="proof definition admonition" id="def-snapshot">
<p class="admonition-title"><span class="caption-number">Definition 13 </span></p>
<section class="definition-content" id="proof-content">
<p>An <em>encoded snapshot</em> is a word of the form</p>
<div class="math notranslate nohighlight">
\[
{\tt 1}^k \quad {\tt \#\#} \quad c(w_1, w_2, \ldots, w_{\ell})
\]</div>
<p>That is, it is a finite sequence of <code class="docutils literal notranslate"><span class="pre">1</span></code>s followed by <code class="docutils literal notranslate"><span class="pre">##</span></code> followed by <span class="math notranslate nohighlight">\(b(w_1)\)</span> for some word <span class="math notranslate nohighlight">\(w_1\)</span>, then <code class="docutils literal notranslate"><span class="pre">###</span></code>, then
<span class="math notranslate nohighlight">\(b(w_2)\)</span> for some word <span class="math notranslate nohighlight">\(w_2\)</span>, <span class="math notranslate nohighlight">\(\ldots\)</span>, and finally <span class="math notranslate nohighlight">\(b(w_{\ell})\)</span> for some word <span class="math notranslate nohighlight">\(w_{\ell}\)</span>.</p>
</section>
</div></section>
</section>
<section id="new-interface">
<h2>New interface<a class="headerlink" href="#new-interface" title="Link to this heading">#</a></h2>
<p>Here is a new interface for running program which includes a “mode” capability that includes the option of seeing all the snapshots and the overall trace.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">step_by_step_with_snapshots</span><span class="p">(</span><span class="s1">&#39;1#1#&#39;</span><span class="p">,[</span><span class="s1">&#39;##&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">snapshot_check</span><span class="p">(</span><span class="s1">&#39;111##1#11#1111##&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="definitions-leading-up-to-t">
<h2>Definitions leading up to T<a class="headerlink" href="#definitions-leading-up-to-t" title="Link to this heading">#</a></h2>
<div class="proof definition admonition" id="def-follows">
<p class="admonition-title"><span class="caption-number">Definition 14 </span></p>
<section class="definition-content" id="proof-content">
<p><span class="math notranslate nohighlight">\(Follows(p,s_1,s_2)\)</span></p>
<p>means that</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(Program(p)\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(Snapshot(s_1)\)</span> and <span class="math notranslate nohighlight">\(Snapshot(s_2)\)</span></p></li>
<li><p>The <span class="math notranslate nohighlight">\(n\)</span> involved in <span class="math notranslate nohighlight">\(s_1\)</span> (the number <span class="math notranslate nohighlight">\(1^n\)</span> at the start of <span class="math notranslate nohighlight">\(s_1\)</span>) is <span class="math notranslate nohighlight">\(\leq\)</span> the length of <span class="math notranslate nohighlight">\(p\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(s_2\)</span> is the snapshot that would follow after <span class="math notranslate nohighlight">\(s_1\)</span> according to what <span class="math notranslate nohighlight">\(p\)</span> says.</p></li>
</ol>
</section>
</div><div class="proof definition admonition" id="def-suitable">
<p class="admonition-title"><span class="caption-number">Definition 15 </span></p>
<section class="definition-content" id="proof-content">
<p><span class="math notranslate nohighlight">\(Suitable(p,s)\)</span> means</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(Program(p)\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(Snapshot(s)\)</span></p></li>
<li><p>The number of registers represented in <span class="math notranslate nohighlight">\(s\)</span> is the  maximum register number that <span class="math notranslate nohighlight">\(p\)</span> deals with, or <span class="math notranslate nohighlight">\(1\)</span> if <span class="math notranslate nohighlight">\(p\)</span> does not mention any registers at all.</p></li>
</ol>
<p>In other words,  if</p>
<div class="math notranslate nohighlight">
\[
s  =  1^n \quad +\quad {\tt \#\#} \quad+ \quad code({w_1,. . .,w_k}) 
\]</div>
<p>then <span class="math notranslate nohighlight">\(k\)</span> is the largest register mentioned in the program <span class="math notranslate nohighlight">\(p\)</span>.   That is, <span class="math notranslate nohighlight">\(k\)</span> is largest so that <span class="math notranslate nohighlight">\(p\)</span> contains <span class="math notranslate nohighlight">\(1^k \#\)</span> or
<span class="math notranslate nohighlight">\(1^k \#\#\)</span> or <span class="math notranslate nohighlight">\(1^k \#^5\)</span>.</p>
</section>
</div><div class="proof definition admonition" id="def-starting-snapshot">
<p class="admonition-title"><span class="caption-number">Definition 16 </span></p>
<section class="definition-content" id="proof-content">
<p><span class="math notranslate nohighlight">\(Starting-snapshot(p,w, s)\)</span> means</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(Suitable(p,s)\)</span>,  and thus <span class="math notranslate nohighlight">\(Program(p)\)</span>  and <span class="math notranslate nohighlight">\(Snapshot(s)\)</span></p></li>
<li><p>The instruction number <span class="math notranslate nohighlight">\(n\)</span> in <span class="math notranslate nohighlight">\(s\)</span> is <span class="math notranslate nohighlight">\(1\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(w\)</span> is a coded word-of-words</p></li>
</ol>
<div class="math notranslate nohighlight">
\[
w = code({w_1,\ldots, w_k})
\]</div>
<p>and <span class="math notranslate nohighlight">\(s\)</span> represents the snapshot where <span class="math notranslate nohighlight">\(w_1\)</span> is in R1, <span class="math notranslate nohighlight">\(\ldots\)</span>, <span class="math notranslate nohighlight">\(w_k\)</span> is in Rk.</p>
</section>
</div><div class="proof definition admonition" id="def-halting-snapshot">
<p class="admonition-title"><span class="caption-number">Definition 17 </span></p>
<section class="definition-content" id="proof-content">
<p><span class="math notranslate nohighlight">\(Halting-snapshot(p, s)\)</span> means</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(Suitable(p,s)\)</span>,  and thus <span class="math notranslate nohighlight">\(Program(p)\)</span>  and <span class="math notranslate nohighlight">\(Snapshot(s)\)</span></p></li>
<li><p>The instruction number <span class="math notranslate nohighlight">\(n\)</span> in <span class="math notranslate nohighlight">\(s\)</span> is <span class="math notranslate nohighlight">\(1+ m\)</span>, where <span class="math notranslate nohighlight">\(m\)</span> is the the number of instructions in <span class="math notranslate nohighlight">\(p\)</span>.</p></li>
<li><p>The registers coded in <span class="math notranslate nohighlight">\(s\)</span> are all empty, except possibly for R1.</p></li>
</ol>
</section>
</div><div class="proof definition admonition" id="def-snapshot-seq">
<p class="admonition-title"><span class="caption-number">Definition 18 </span></p>
<section class="definition-content" id="proof-content">
<p><span class="math notranslate nohighlight">\(Snapshot-seq(z)\)</span> means
that
<span class="math notranslate nohighlight">\(z\)</span> is a word of the form</p>
<div class="math notranslate nohighlight">
\[
s_1 \quad    {\tt \# 1} \quad
s_2 \quad   {\tt \# 1} \quad
s_3 \quad    {\tt \# 1} \quad
\cdots\quad
  {\tt \# 1} \quad  s_n
\]</div>
<p>where <span class="math notranslate nohighlight">\(Snapshot(s_i)\)</span> for all <span class="math notranslate nohighlight">\(i\)</span>.</p>
</section>
</div><div class="proof definition admonition" id="def-T">
<p class="admonition-title"><span class="caption-number">Definition 19 </span></p>
<section class="definition-content" id="proof-content">
<p><span class="math notranslate nohighlight">\(T(p,x,z)\)</span> means</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(Program(p)\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(Snapshot-seq(z)\)</span>,  say  <span class="math notranslate nohighlight">\(z\)</span> represents</p></li>
</ol>
<div class="math notranslate nohighlight">
\[
s_1, \ldots, s_{\ell}
\]</div>
<ol class="arabic simple" start="3">
<li><p><span class="math notranslate nohighlight">\(Starting-snapshot(p,w, s_1)\)</span>,</p></li>
</ol>
<p>where <span class="math notranslate nohighlight">\(w\)</span> is the code of <span class="math notranslate nohighlight">\(\langle x\rangle\)</span>, the one-element sequence <span class="math notranslate nohighlight">\(x\)</span>, and <span class="math notranslate nohighlight">\(s_1\)</span> is the first snapshot represented in <span class="math notranslate nohighlight">\(z\)</span></p>
<ol class="arabic simple" start="5">
<li><p>For all <span class="math notranslate nohighlight">\(1 \leq i \leq \ell\)</span>,
<span class="math notranslate nohighlight">\(Suitable(p,s_i)\)</span></p></li>
<li><p>For all <span class="math notranslate nohighlight">\(1 \leq i &lt; \ell\)</span>,  <span class="math notranslate nohighlight">\(Follows(p,s_i,s_{i+1})\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(Halting-snapshot(p, s_{\ell})\)</span></p></li>
</ol>
</section>
</div><p>We need one more gadget, a function  called  <span class="math notranslate nohighlight">\(upshot\)</span>.</p>
<div class="proof definition admonition" id="def-upshot">
<p class="admonition-title"><span class="caption-number">Definition 20 </span></p>
<section class="definition-content" id="proof-content">
<p>If <span class="math notranslate nohighlight">\(Snapshot-seq(z)\)</span>, say
<span class="math notranslate nohighlight">\(z\)</span> is</p>
<div class="math notranslate nohighlight">
\[
s_1\quad    {\tt \# 1}  \quad
s_2 \quad   {\tt \# 1} \quad
s_3 \quad    {\tt \# 1}    \quad
\cdots\quad
  {\tt \# 1}   \quad  s_{\ell}
\]</div>
<p>then <span class="math notranslate nohighlight">\(upshot(z)\)</span> is the word in R1 in the last snapshot, <span class="math notranslate nohighlight">\(s_{\ell}\)</span>.</p>
<p>If <span class="math notranslate nohighlight">\(\neg Snapshot-seq(z)\)</span>, then</p>
<p>we (don’t care about the result and) set
<span class="math notranslate nohighlight">\(upshot(z)={\tt \#}\)</span>.</p>
</section>
</div><div class="proof theorem admonition" id="theorem-T">
<p class="admonition-title"><span class="caption-number">Theorem 5 </span></p>
<section class="theorem-content" id="proof-content">
<p>For all words <span class="math notranslate nohighlight">\(p\)</span> and <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\([\![ p]\!](x)\!\!\downarrow\)</span> if and only if there is some <span class="math notranslate nohighlight">\(z\)</span> such that <span class="math notranslate nohighlight">\(T(p,x,z)\)</span>.</p>
<p>Moreover, <span class="math notranslate nohighlight">\(T\)</span> is <code class="docutils literal notranslate"><span class="pre">1#</span></code>-computable and total.</p>
<p>Indeed, all of the “helper functions” above are also <code class="docutils literal notranslate"><span class="pre">1#</span></code>-computable and total.</p>
</section>
</div><img src="https://github.com/lmoss/onesharp/blob/main/pianotrumpet.jpg?raw=1" width="200" height="160"></section>
<section id="shortlex-ordering-of-words">
<h2>Shortlex ordering of words<a class="headerlink" href="#shortlex-ordering-of-words" title="Link to this heading">#</a></h2>
<p>Our next order of business is to rework everything which we have seen from words to numbers.   This involves an encoding.  So we start with a bijection <span class="math notranslate nohighlight">\(s: N \to Words\)</span>.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p><span class="math notranslate nohighlight">\(n\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(s(n)\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p><span class="math notranslate nohighlight">\(\varepsilon\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">#</span></code></p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">##</span></code></p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">#1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1#</span></code></p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">11</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">###</span></code></p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">##1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">#1#</span></code></p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">#11</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1##</span></code></p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1#1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>13</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">11#</span></code></p></td>
</tr>
<tr class="row-even"><td><p>14</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">111</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>15</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">####</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>Being a bijection, this function <span class="math notranslate nohighlight">\(s\)</span> has an inverse <span class="math notranslate nohighlight">\(s^{-1}\)</span>.</p>
<p>The idea now is to take all of the machinery which we have built in this notebook and use <span class="math notranslate nohighlight">\(s\)</span> and its inverse <span class="math notranslate nohighlight">\(s^{-1}\)</span> to transfer them to numbers.  In the other direction, we want to take all of the primitive recursive functions of numbers and transfer them to <code class="docutils literal notranslate"><span class="pre">1#</span></code>.</p>
<section id="accessing-bits">
<h3>Accessing bits<a class="headerlink" href="#accessing-bits" title="Link to this heading">#</a></h3>
<p>We next define three functions on the natural numbers.  The first is called <span class="math notranslate nohighlight">\(|n|\)</span>, and it gives the number of characters in <span class="math notranslate nohighlight">\(s(n)\)</span>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{array}{lcl}
|n| &amp;= &amp; \biggl( \mu x \leq n +1. \ (2^x  &gt; n + 1)\biggr) - 1
\\ \\
rem(a,b) &amp;  = &amp;  (\mu r &lt; b).(\exists q)(a = qb + r)\\
&amp;  = &amp;  (\mu r &lt; b).(\exists q \leq a)(a = qb + r)\\
\\
\\
(n)_{m}&amp; = &amp; \left\{
\begin{array}{ll}
0 &amp; if\ rem(n+1,2^{m+1}) &lt;  2^m   \\
1 &amp; if\    rem(n+1,2^{m+1}) \geq 2^m  \\
\end{array}
\right.
\end{array}
\end{split}\]</div>
<p>For all <span class="math notranslate nohighlight">\(n\)</span>, <span class="math notranslate nohighlight">\(|n|\)</span> is the number of symbols in the string <span class="math notranslate nohighlight">\(s(n)\)</span>.   The expression above gives a formula for it.
For all non-zero <span class="math notranslate nohighlight">\(a\)</span> and <span class="math notranslate nohighlight">\(b\)</span>, <span class="math notranslate nohighlight">\(rem(a,b)\)</span> gives the remainder when <span class="math notranslate nohighlight">\(a\)</span> is divided by <span class="math notranslate nohighlight">\(b\)</span>.  When <span class="math notranslate nohighlight">\(a = 0\)</span>, <span class="math notranslate nohighlight">\(rem(a,b) = 0\)</span>
as well.  When <span class="math notranslate nohighlight">\(a &gt;0\)</span> and <span class="math notranslate nohighlight">\(b = 0\)</span>,???</p>
<p>Since all of the quantifiers and <span class="math notranslate nohighlight">\(\mu\)</span>-operators are bounded, these functions are primitive recursive.</p>
<p>Here is a table of the values of this function for small numbers.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p><span class="math notranslate nohighlight">\(n\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(s(n)\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(|n|\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\((n)_0\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\((n)_1\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\((n)_2\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p><span class="math notranslate nohighlight">\(\varepsilon\)</span></p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">#</span></code></p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">##</span></code></p></td>
<td><p>2</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">#1</span></code></p></td>
<td><p>2</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1#</span></code></p></td>
<td><p>2</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">11</span></code></p></td>
<td><p>2</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">###</span></code></p></td>
<td><p>3</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">##1</span></code></p></td>
<td><p>3</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">#1#</span></code></p></td>
<td><p>3</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">#11</span></code></p></td>
<td><p>3</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1##</span></code></p></td>
<td><p>3</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1#1</span></code></p></td>
<td><p>3</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>13</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">11#</span></code></p></td>
<td><p>3</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>14</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">111</span></code></p></td>
<td><p>3</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>15</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">####</span></code></p></td>
<td><p>4</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Here are some Python programs about this encoding.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">math</span>

<span class="k">def</span><span class="w"> </span><span class="nf">log2int</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="k">return</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">frexp</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
  <span class="k">return</span><span class="p">(</span><span class="n">log2int</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>

<span class="k">def</span><span class="w"> </span><span class="nf">index</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">m</span><span class="p">):</span> <span class="c1">## this is what I write as (n)_m</span>
  <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
  <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="o">**</span><span class="n">m</span>
  <span class="k">if</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">convert_numeral_to_onesharp</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
   <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
     <span class="k">return</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">)</span>
   <span class="k">else</span><span class="p">:</span>
     <span class="k">return</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>    

<span class="k">def</span><span class="w"> </span><span class="nf">s</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
  <span class="n">k</span> <span class="o">=</span> <span class="n">length</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>  
  <span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="n">convert_numeral_to_onesharp</span><span class="p">(</span><span class="n">index</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">)]</span> 
  <span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> 
  <span class="k">return</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">s_inverse</span><span class="p">(</span><span class="n">w</span><span class="p">):</span>
  <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
  <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
  <span class="n">b</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">2</span><span class="o">**</span> <span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">)]</span>
  <span class="n">c</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
  <span class="n">d</span> <span class="o">=</span> <span class="n">c</span><span class="o">+</span><span class="n">a</span>
  <span class="k">return</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">(</span><span class="mi">143</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s_inverse</span><span class="p">(</span><span class="s1">&#39;##11#1&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">(</span><span class="n">s_inverse</span><span class="p">(</span><span class="s1">&#39;##11#1&#39;</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">index</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">index</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="c1">## this will print (14)_0, (14)_1, (14)_2, (14)_3, (14)_4  </span>
</pre></div>
</div>
</div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>We have the following formulas</p>
<p>For all <span class="math notranslate nohighlight">\(n\)</span>,</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{array}{lcl}
s(n) &amp; = &amp;  (n)_{|n| - 1} (n)_{|n|-2} \cdots (n)_1 (n)_0\\ \\
n &amp; = &amp; (2^{|n|} -1) +  \sum_{i &lt; |n|}  (n)_i \cdot 2^i 
\end{array}
\end{split}\]</div>
<p>In these formulas, we <em>identify</em> <code class="docutils literal notranslate"><span class="pre">#</span></code> and the number <span class="math notranslate nohighlight">\(0\)</span>.</p>
</div>
<div class="tip admonition">
<p class="admonition-title">Example</p>
<p>Let <span class="math notranslate nohighlight">\(n = 101\)</span>.  Note that <span class="math notranslate nohighlight">\(2^7  = 128 &gt; 101\)</span>, and <span class="math notranslate nohighlight">\(7\)</span> is the smallest with this property.  Therefore <span class="math notranslate nohighlight">\(|n| = 7-1 = 6\)</span>.</p>
<p><span class="math notranslate nohighlight">\(rem(102,2) = 0\)</span>.  And <span class="math notranslate nohighlight">\(0 &lt; 2^0\)</span>, so <span class="math notranslate nohighlight">\((102)_0 = 0\)</span>.</p>
<p><span class="math notranslate nohighlight">\(rem(102,4) = 2\)</span>. And <span class="math notranslate nohighlight">\(2 \geq 2^1\)</span>, so <span class="math notranslate nohighlight">\((102)_1 = 1\)</span>.</p>
<p><span class="math notranslate nohighlight">\(rem(102,8) = 6\)</span>. And <span class="math notranslate nohighlight">\(6 \geq 4\)</span>, so <span class="math notranslate nohighlight">\((102)_2 = 1\)</span>.</p>
<p><span class="math notranslate nohighlight">\(rem(102,16) = 6\)</span>. And <span class="math notranslate nohighlight">\(6 &lt; 8\)</span>, so <span class="math notranslate nohighlight">\((102)_3 = 0\)</span>.</p>
<p><span class="math notranslate nohighlight">\(rem(102,32) = 6\)</span>. And <span class="math notranslate nohighlight">\(6 &lt; 16\)</span>, so <span class="math notranslate nohighlight">\((102)_4 = 0\)</span>.</p>
<p><span class="math notranslate nohighlight">\(rem(102,64) = 42\)</span>. And <span class="math notranslate nohighlight">\(42 \geq 32\)</span>, so <span class="math notranslate nohighlight">\((102)_5 = 1\)</span>.</p>
<p>So we see that <span class="math notranslate nohighlight">\(s(101) = 1 0 0 1 1 0 \)</span>.  Trading in <span class="math notranslate nohighlight">\(0\)</span> for <span class="math notranslate nohighlight">\(\#\)</span>, we get  <code class="docutils literal notranslate"><span class="pre">1##11#</span></code>.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If <span class="math notranslate nohighlight">\(w\)</span> is any <code class="docutils literal notranslate"><span class="pre">1#</span></code>-word, and if <span class="math notranslate nohighlight">\(v\)</span> is a subword of <span class="math notranslate nohighlight">\(w\)</span>, or even a word which is smaller in length than <span class="math notranslate nohighlight">\(w\)</span>, then as numbers</p>
<div class="math notranslate nohighlight">
\[s^{-1}(v) &lt; s^{-1}(w).
\]</div>
<p>This is important because it leads to the fact that various functions are primitive recursive.</p>
</div>
</section>
</section>
<section id="the-point-of-all-of-this-coding">
<h2>The point of all of this coding<a class="headerlink" href="#the-point-of-all-of-this-coding" title="Link to this heading">#</a></h2>
<p>What want to associate functions on words with functions on numbers, and vice-versa.  Here is how we take a function from words to words and associate a function from numbers to numbers.</p>
<p>Given <span class="math notranslate nohighlight">\(f: Words \to Words\)</span>, we associate <span class="math notranslate nohighlight">\(g: N \to N\)</span> by  <span class="math notranslate nohighlight">\(g = s^{-1}\circ f \circ s\)</span>.  That is,</p>
<div class="math notranslate nohighlight">
\[
g(n) =  s^{-1}(f(s(n))
\]</div>
<p>We go back similarly.</p>
<p>We are especially interested in this when <span class="math notranslate nohighlight">\(f\)</span> is <span class="math notranslate nohighlight">\([\![p]\!]\)</span> for some program <span class="math notranslate nohighlight">\(p\)</span>, and when <span class="math notranslate nohighlight">\(f:N\to N\)</span> is primitive recursive.</p>
<p>So given a program <span class="math notranslate nohighlight">\(p\)</span>, we define a partial function <span class="math notranslate nohighlight">\(\varphi_p: N\to N\)</span>
by</p>
<div class="math notranslate nohighlight">
\[
\varphi_p(n) =  s^{-1}\biggl([\![s(p)]\!](s(n))\biggr).
\]</div>
<p>In our next section, we’ll see that the functions <span class="math notranslate nohighlight">\(\varphi_p\)</span>, as <span class="math notranslate nohighlight">\(p\)</span> ranges over <span class="math notranslate nohighlight">\(N\)</span>, are exactly the <span class="math notranslate nohighlight">\(\mu\)</span>-computable functions.  Our definition takes them to be the coded versions of the <code class="docutils literal notranslate"><span class="pre">1#</span></code>-computable functions.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./mu"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="primitive_recursion.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Primitive recursion</p>
      </div>
    </a>
    <a class="right-next"
       href="mu.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Mu-recursive functions</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#encoding">Encoding</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sequences-of-words-as-words">Sequences of words as words</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sequences-of-sequences-of-words-as-words">Sequences of (sequences of words) as words</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#snapshots">Snapshots</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-interface">New interface</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#definitions-leading-up-to-t">Definitions leading up to T</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#shortlex-ordering-of-words">Shortlex ordering of words</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-bits">Accessing bits</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-point-of-all-of-this-coding">The point of all of this coding</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Lawrence S. Moss
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>